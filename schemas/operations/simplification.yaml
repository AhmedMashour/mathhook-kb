# Simplification Schema
# Generated: 2025-12-15T1540
# Source: mathhook/docs/src/operations/simplification.md

topic: "operations.simplification"
title: "Symbolic Simplification"

description: |
  MathHook provides comprehensive symbolic simplification for mathematical expressions, with full support for noncommutative algebra (matrices, operators, quaternions). The simplification system implements canonical forms and mathematical identities to reduce expressions to their simplest equivalent representation.

mathematical_definition: |
  **Power Rule:**
  $$x^a \cdot x^b \rightarrow x^{a+b}$$

  **Noncommutative Algebra:**
  For noncommutative symbols (matrices, operators):
  - $AB \neq BA$ in general
  - $(A + B)^2 = A^2 + AB + BA + B^2$ (4 terms, not 3)

  **Rational Arithmetic:**
  - Exact representation: $\frac{1}{3}$ stays as rational, not float
  - Automatic simplification: Reduces fractions to lowest terms

code_refs:
  rust: "mathhook_core::simplify::Simplify"
  python: "mathhook.simplify"
  nodejs: "mathhook.simplify"

examples:
  - title: "Basic Simplification"
    explanation: "Identity elements and constant folding"
    code:
      rust: |
        use mathhook::prelude::*;

        let x = symbol!(x);

        // Identity elements
        let expr = expr!((x + 0) * 1);
        let simplified = expr.simplify();
        // Result: x

        // Constant folding
        let expr = expr!(2 + 3);
        let simplified = expr.simplify();
        // Result: 5
      python: |
        from mathhook import symbol

        x = symbol('x')

        # Identity elements
        expr = (x + 0) * 1
        simplified = expr.simplify()
        # Result: x

        # Constant folding
        expr = 2 + 3
        # Result: 5
      nodejs: |
        const { symbol } = require('mathhook');

        const x = symbol('x');

        // Identity elements
        let expr = x.add(0).mul(1);
        const simplified = expr.simplify();
        // Result: x

  - title: "Power Rule"
    explanation: "Combine like powers with same base"
    code:
      rust: |
        use mathhook::prelude::*;

        let x = symbol!(x);

        // Combine like powers
        let expr = expr!((x^2) * (x^3));
        let simplified = expr.simplify();
        // Result: x^5

        // Multiple powers
        let expr = expr!((x^2) * (x^3) * (x^4));
        let simplified = expr.simplify();
        // Result: x^9
      python: |
        from mathhook import symbol

        x = symbol('x')

        # Combine like powers
        expr = x**2 * x**3
        simplified = expr.simplify()
        # Result: x^5
      nodejs: |
        const { symbol } = require('mathhook');

        const x = symbol('x');

        // Combine like powers
        const expr = x.pow(2).mul(x.pow(3));
        const simplified = expr.simplify();
        // Result: x^5

  - title: "Noncommutative Matrices"
    explanation: "Matrix multiplication does NOT commute"
    code:
      rust: |
        use mathhook::prelude::*;

        let A = symbol!(A; matrix);
        let B = symbol!(B; matrix);

        // Matrix multiplication does NOT commute
        let expr = expr!(A * B);
        // Simplification preserves order: A*B ≠ B*A
      python: |
        from mathhook import symbol

        A = symbol('A', matrix=True)
        B = symbol('B', matrix=True)

        # Matrix multiplication does NOT commute
        expr = A * B
        # Simplification preserves order: A*B ≠ B*A
      nodejs: |
        const { symbol } = require('mathhook');

        const A = symbol('A', { type: 'matrix' });
        const B = symbol('B', { type: 'matrix' });

        // Matrix multiplication does NOT commute
        const expr = A.mul(B);
        // Simplification preserves order: A*B ≠ B*A

performance:
  complexity: "O(n) for expression tree size n"
  targets: |
    - Simplification time: <1ms for expressions with <100 nodes
    - Memory: Minimal allocations through iterative flattening
    - Cache efficiency: Expression type optimized for 32-byte size (2 per cache line)

limitations:
  - "Factorization: Not yet implemented (planned for future release)"
  - "Trigonometric identities: Limited (basic Pythagorean identity only)"
  - "Advanced simplification: Gröbner bases, polynomial division (future work)"
  - "Symbolic zero detection: May not recognize all equivalent-to-zero expressions"

related_topics:
  - "operations.expansion-factoring"
  - "features.noncommutative"
  - "advanced.numerical-stability"

metadata:
  schema_version: "1.0"
  source_file: "operations/simplification.md"
  validation_status: "sympy_cross_validated"
