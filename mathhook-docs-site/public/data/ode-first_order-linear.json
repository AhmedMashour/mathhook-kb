{
  "topic": "ordinary-differential-equations",
  "title": "Linear First-Order Differential Equations",
  "description": "Solve linear first-order ODEs using the integrating factor method with MathHook",
  "mathematical_definition": "\\frac{dy}{dx} + P(x)y = Q(x)",
  "examples": [
    {
      "title": "Basic Linear ODE",
      "explanation": "Solve the linear first-order ODE: $\\\\frac{dy}{dx} + 2y = 3e^x$\n\nThis is in standard form with $P(x) = 2$ and $Q(x) = 3e^x$.\nMathHook automatically computes the integrating factor $\\\\mu(x) = e^{\\\\int P(x)dx} = e^{2x}$.\n",
      "code": {
        "python": "from mathhook import symbol, Function, solve_ode\n\nx = symbol('x')\ny = Function('y')\n\n# dy/dx + 2y = 3e^x\nequation = y.diff(x) + 2*y - 3*exp(x)\n\nsolution = solve_ode(equation, y, x)\nprint(f\"General solution: {solution}\")\n",
        "rust": "use mathhook_core::ode::{ODESolver, LinearFirstOrderSolver};\nuse mathhook_core::{symbol, expr};\n\nlet x = symbol!(x);\nlet y = symbol!(y);\n\n// dy/dx + 2y = 3e^x\nlet solver = LinearFirstOrderSolver::new();\nlet equation = expr!((dy/dx) + (2*y) - (3*exp(x)));\n\nlet solution = solver.solve(&equation, &y, &x);\nprintln!(\"General solution: {}\", solution);\n",
        "nodejs": "const { symbol, Function, solveODE } = require('mathhook-node');\n\nconst x = symbol('x');\nconst y = Function('y');\n\n// dy/dx + 2y = 3e^x\nconst equation = y.diff(x).add(y.mul(2)).sub(exp(x).mul(3));\n\nconst solution = solveODE(equation, y, x);\nconsole.log(`General solution: ${solution}`);\n"
      },
      "expected_output": "y = e^x + Ce^(-2x)"
    },
    {
      "title": "Variable Coefficient Linear ODE",
      "explanation": "Solve $\\\\frac{dy}{dx} + \\\\frac{y}{x} = x^2$\n\nHere $P(x) = \\\\frac{1}{x}$ and $Q(x) = x^2$.\nThe integrating factor is $\\\\mu(x) = e^{\\\\int \\\\frac{1}{x}dx} = x$.\n",
      "code": {
        "python": "from mathhook import symbol, Function, solve_ode\n\nx = symbol('x')\ny = Function('y')\n\n# dy/dx + y/x = x^2\nequation = y.diff(x) + y/x - x**2\n\nsolution = solve_ode(equation, y, x)\nprint(f\"General solution: {solution}\")\n",
        "rust": "use mathhook_core::ode::LinearFirstOrderSolver;\nuse mathhook_core::{symbol, expr};\n\nlet x = symbol!(x);\nlet y = symbol!(y);\n\n// dy/dx + y/x = x^2\nlet solver = LinearFirstOrderSolver::new();\nlet equation = expr!((dy/dx) + (y/x) - (x^2));\n\nlet solution = solver.solve(&equation, &y, &x);\nprintln!(\"General solution: {}\", solution);\n",
        "nodejs": "const { symbol, Function, solveODE } = require('mathhook-node');\n\nconst x = symbol('x');\nconst y = Function('y');\n\n// dy/dx + y/x = x^2\nconst equation = y.diff(x).add(y.div(x)).sub(x.pow(2));\n\nconst solution = solveODE(equation, y, x);\nconsole.log(`General solution: ${solution}`);\n"
      },
      "expected_output": "y = (x^3)/4 + C/x"
    },
    {
      "title": "Initial Value Problem",
      "explanation": "Solve $\\\\frac{dy}{dx} - y = 2$, $y(0) = 1$\n\nFirst find the general solution, then apply the initial condition to find $C$.\n",
      "code": {
        "python": "from mathhook import symbol, Function, solve_ivp\n\nx = symbol('x')\ny = Function('y')\n\n# dy/dx - y = 2, y(0) = 1\nequation = y.diff(x) - y - 2\n\nsolution = solve_ivp(equation, y, x, initial_conditions={y(0): 1})\nprint(f\"Particular solution: {solution}\")\n",
        "rust": "use mathhook_core::ode::LinearFirstOrderSolver;\nuse mathhook_core::{symbol, expr};\n\nlet x = symbol!(x);\nlet y = symbol!(y);\n\n// dy/dx - y = 2, y(0) = 1\nlet solver = LinearFirstOrderSolver::new();\nlet equation = expr!((dy/dx) - y - 2);\n\nlet general_solution = solver.solve(&equation, &y, &x);\nlet particular = solver.apply_initial_condition(\n    &general_solution,\n    &x,\n    expr!(0),\n    expr!(1)\n);\nprintln!(\"Particular solution: {}\", particular);\n",
        "nodejs": "const { symbol, Function, solveIVP } = require('mathhook-node');\n\nconst x = symbol('x');\nconst y = Function('y');\n\n// dy/dx - y = 2, y(0) = 1\nconst equation = y.diff(x).sub(y).sub(2);\n\nconst solution = solveIVP(equation, y, x, {[y(0)]: 1});\nconsole.log(`Particular solution: ${solution}`);\n"
      },
      "expected_output": "y = -2 + 3e^x"
    }
  ],
  "article": {
    "introduction": {
      "hook": "**Linear first-order differential equations** are one of the most fundamental types of ODEs. They appear in numerous applications including population dynamics, radioactive decay, electrical circuits, and heat transfer. The general form is $\\\\frac{dy}{dx} + P(x)y = Q(x)$, where $P(x)$ and $Q(x)$ are given functions.\n\nThe **integrating factor method** provides a systematic approach to solve these equations by transforming them into an exact equation that can be integrated directly.\n"
    },
    "sections": [
      {
        "title": "Standard Form",
        "content": "A linear first-order ODE must be written in the standard form:\n\n$$\\\\frac{dy}{dx} + P(x)y = Q(x)$$\n\nwhere:\n- $P(x)$ is the **coefficient function** (multiplies $y$)\n- $Q(x)$ is the **forcing function** (non-homogeneous term)\n\n### Examples of Standard Form ###\n\n**Already in standard form**:\n- $\\\\frac{dy}{dx} + 2y = 3e^x$ \u2192 $P(x) = 2$, $Q(x) = 3e^x$\n- $\\\\frac{dy}{dx} + \\\\frac{y}{x} = x^2$ \u2192 $P(x) = \\\\frac{1}{x}$, $Q(x) = x^2$\n\n**Requires rearrangement**:\n- $x\\\\frac{dy}{dx} + y = x^3$ \u2192 Divide by $x$ \u2192 $\\\\frac{dy}{dx} + \\\\frac{y}{x} = x^2$\n- $2\\\\frac{dy}{dx} - 4y = 6x$ \u2192 Divide by $2$ \u2192 $\\\\frac{dy}{dx} - 2y = 3x$\n"
      },
      {
        "title": "The Integrating Factor Method",
        "content": "The integrating factor method is a systematic procedure:\n\n### Step 1: Identify $P(x)$ ###\nWrite the equation in standard form and identify $P(x)$.\n\n### Step 2: Compute the Integrating Factor ###\nCalculate $\\\\mu(x) = e^{\\\\int P(x)dx}$\n\n**Note**: No constant of integration is needed here.\n\n### Step 3: Multiply Both Sides ###\nMultiply the entire equation by $\\\\mu(x)$:\n$$\\\\mu(x)\\\\frac{dy}{dx} + \\\\mu(x)P(x)y = \\\\mu(x)Q(x)$$\n\nThe left side becomes the derivative of a product:\n$$\\\\frac{d}{dx}[\\\\mu(x)y] = \\\\mu(x)Q(x)$$\n\n### Step 4: Integrate Both Sides ###\n$$\\\\mu(x)y = \\\\int \\\\mu(x)Q(x)dx + C$$\n\n### Step 5: Solve for $y$ ###\n$$y = \\\\frac{1}{\\\\mu(x)}\\\\left(\\\\int \\\\mu(x)Q(x)dx + C\\\\right)$$\n"
      },
      {
        "title": "Worked Example",
        "content": "**Problem**: Solve $\\\\frac{dy}{dx} + 2y = 3e^x$\n\n### Solution ###\n\n**Step 1**: Identify $P(x) = 2$ and $Q(x) = 3e^x$\n\n**Step 2**: Compute integrating factor:\n$$\\\\mu(x) = e^{\\\\int 2dx} = e^{2x}$$\n\n**Step 3**: Multiply by $\\\\mu(x)$:\n$$e^{2x}\\\\frac{dy}{dx} + 2e^{2x}y = 3e^{3x}$$\n\nThis is equivalent to:\n$$\\\\frac{d}{dx}[e^{2x}y] = 3e^{3x}$$\n\n**Step 4**: Integrate:\n$$e^{2x}y = \\\\int 3e^{3x}dx = e^{3x} + C$$\n\n**Step 5**: Solve for $y$:\n$$y = e^{-2x}(e^{3x} + C) = e^x + Ce^{-2x}$$\n\nThis is the **general solution** containing an arbitrary constant $C$.\n"
      },
      {
        "title": "Special Cases",
        "content": "### Homogeneous Linear Equations ###\nWhen $Q(x) = 0$, the equation $\\\\frac{dy}{dx} + P(x)y = 0$ is **homogeneous**.\n\nSolution is simply:\n$$y = Ce^{-\\\\int P(x)dx}$$\n\n**Example**: $\\\\frac{dy}{dx} + 3y = 0$ has solution $y = Ce^{-3x}$\n\n### Constant Coefficients ###\nWhen both $P$ and $Q$ are constants, the integrating factor is particularly simple.\n\nFor $\\\\frac{dy}{dx} + Py = Q$ (constants $P, Q$):\n- Integrating factor: $\\\\mu = e^{Px}$\n- General solution: $y = \\\\frac{Q}{P} + Ce^{-Px}$\n\n**Example**: $\\\\frac{dy}{dx} + 2y = 6$ has solution $y = 3 + Ce^{-2x}$\n"
      },
      {
        "title": "Applications",
        "content": "Linear first-order ODEs model many real-world phenomena:\n\n### Population Dynamics (with harvesting) ###\n$$\\\\frac{dP}{dt} = kP - H$$\nwhere $k$ is growth rate and $H$ is constant harvesting.\n\n### Radioactive Decay (with production) ###\n$$\\\\frac{dN}{dt} = -\\\\lambda N + R(t)$$\nwhere $\\\\lambda$ is decay constant and $R(t)$ is production rate.\n\n### RC Circuits ###\n$$\\\\frac{dV}{dt} + \\\\frac{1}{RC}V = \\\\frac{E(t)}{RC}$$\nwhere $E(t)$ is applied voltage.\n\n### Newton's Law of Cooling ###\n$$\\\\frac{dT}{dt} = -k(T - T_\\\\text{ambient})$$\nRearranged: $\\\\frac{dT}{dt} + kT = kT_\\\\text{ambient}$\n"
      }
    ],
    "sidebars": [
      {
        "type": "note",
        "title": "Why It Works",
        "content": "The integrating factor method works because $\\\\mu(x) = e^{\\\\int P(x)dx}$ satisfies:\n$$\\\\frac{d\\\\mu}{dx} = \\\\mu(x) \\\\cdot P(x)$$\n\nThis magical property turns the left side into a perfect derivative:\n$$\\\\mu\\\\frac{dy}{dx} + \\\\mu Py = \\\\frac{d}{dx}[\\\\mu y]$$\n"
      },
      {
        "type": "warning",
        "title": "Common Mistakes",
        "content": "**Division by zero**: When rearranging to standard form, be careful not to divide by zero. For example, $x\\\\frac{dy}{dx} + y = 0$ is undefined at $x=0$.\n\n**Wrong sign**: The standard form is $\\\\frac{dy}{dx} + P(x)y = Q(x)$. If your equation has a minus sign, remember $P(x)$ will be negative.\n\n**Forgetting $+C$**: The constant of integration in Step 4 is crucial for the general solution.\n"
      },
      {
        "type": "info",
        "title": "Existence and Uniqueness",
        "content": "For the initial value problem:\n$$\\\\frac{dy}{dx} + P(x)y = Q(x), \\\\quad y(x_0) = y_0$$\n\nA unique solution exists on any interval where $P(x)$ and $Q(x)$ are continuous.\n\nThis is a consequence of the **Picard-Lindel\u00f6f theorem**.\n"
      },
      {
        "type": "performance",
        "title": "MathHook Performance",
        "content": "MathHook's linear ODE solver:\n- **Automatic standard form conversion**\n- **Symbolic integrating factor computation**\n- **Automatic simplification** of the final solution\n- **Initial condition application** with symbolic algebra\n\nTypical solving time: < 10ms for polynomial coefficients, < 50ms for transcendental functions.\n"
      }
    ]
  }
}