{
  "topic": "parser.latex",
  "title": "LaTeX Notation",
  "description": "Parse and generate beautiful LaTeX notation for mathematical expressions.\nMathHook provides full bidirectional support: Parse LaTeX → Expression, Expression → LaTeX.\nIncludes automatic type inference, implicit multiplication, and comprehensive coverage of 150+ LaTeX commands.\n",
  "code_refs": {
    "rust": "mathhook_core::parser::latex",
    "python": "mathhook.parser.latex",
    "nodejs": "mathhook.parser.latex"
  },
  "examples": [
    {
      "title": "Basic LaTeX Parsing",
      "explanation": "Parse common LaTeX expressions",
      "code": {
        "rust": "use mathhook::parser::{Parser, ParserConfig};\n\nlet parser = Parser::new(ParserConfig::default());\n\n// Fractions\nlet expr = parser.parse(r\"\\frac{x^2 + 1}{x - 1}\")?;\n\n// Functions\nlet expr = parser.parse(r\"\\sin(x) + \\cos(y)\")?;\n\n// Square roots\nlet expr = parser.parse(r\"\\sqrt{x^2 + y^2}\")?;\n",
        "python": "from mathhook import Parser, ParserConfig\n\nparser = Parser(ParserConfig.default())\n\n# Fractions\nexpr = parser.parse(r\"\\frac{x^2 + 1}{x - 1}\")\n\n# Functions\nexpr = parser.parse(r\"\\sin(x) + \\cos(y)\")\n\n# Square roots\nexpr = parser.parse(r\"\\sqrt{x^2 + y^2}\")\n",
        "nodejs": "const { Parser, ParserConfig } = require('mathhook');\n\nconst parser = new Parser(ParserConfig.default());\n\n// Fractions\nconst expr = parser.parse(String.raw`\\frac{x^2 + 1}{x - 1}`);\n\n// Functions\nconst expr = parser.parse(String.raw`\\sin(x) + \\cos(y)`);\n\n// Square roots\nconst expr = parser.parse(String.raw`\\sqrt{x^2 + y^2}`);\n"
      }
    },
    {
      "title": "Expression to LaTeX",
      "explanation": "Format expressions as LaTeX",
      "code": {
        "rust": "use mathhook::prelude::*;\nuse mathhook::formatter::latex::LaTeXFormatter;\n\nlet x = symbol!(x);\nlet expr = expr!(x^2 / 2);\nlet latex = expr.to_latex(None)?;\n// Returns: \\frac{x^{2}}{2}\n",
        "python": "from mathhook import symbol, expr, LaTeXFormatter\n\nx = symbol('x')\nexpr = expr('x^2 / 2')\nlatex = expr.to_latex(None)\n# Returns: \\frac{x^{2}}{2}\n",
        "nodejs": "const { symbol, expr, LaTeXFormatter } = require('mathhook');\n\nconst x = symbol('x');\nconst expr = expr('x^2 / 2');\nconst latex = expr.toLatex(null);\n// Returns: \\frac{x^{2}}{2}\n"
      }
    },
    {
      "title": "Noncommutative Type Inference",
      "explanation": "Automatic symbol type inference from LaTeX notation",
      "code": {
        "rust": "use mathhook::parser::latex::parse_latex;\n\n// Matrix symbols (noncommutative): \\mathbf{A}\nlet expr = parse_latex(r\"\\mathbf{A}\\mathbf{X} = \\mathbf{B}\")?;\n// Creates matrix symbols A, X, B where A*X ≠ X*A\n\n// Operator symbols (noncommutative): \\hat{p}\nlet expr = parse_latex(r\"[\\hat{x}, \\hat{p}] = i\\hbar\")?;\n// Creates operator symbols (quantum mechanics commutator)\n",
        "python": "from mathhook.parser import parse_latex\n\n# Matrix symbols (noncommutative): \\mathbf{A}\nexpr = parse_latex(r\"\\mathbf{A}\\mathbf{X} = \\mathbf{B}\")\n# Creates matrix symbols A, X, B where A*X ≠ X*A\n\n# Operator symbols (noncommutative): \\hat{p}\nexpr = parse_latex(r\"[\\hat{x}, \\hat{p}] = i\\hbar\")\n# Creates operator symbols (quantum mechanics commutator)\n",
        "nodejs": "const { parseLatex } = require('mathhook');\n\n// Matrix symbols (noncommutative): \\mathbf{A}\nconst expr = parseLatex(String.raw`\\mathbf{A}\\mathbf{X} = \\mathbf{B}`);\n// Creates matrix symbols A, X, B where A*X ≠ X*A\n\n// Operator symbols (noncommutative): \\hat{p}\nconst expr = parseLatex(String.raw`[\\hat{x}, \\hat{p}] = i\\hbar`);\n// Creates operator symbols (quantum mechanics commutator)\n"
      }
    },
    {
      "title": "Calculus Notation",
      "explanation": "Parse calculus operations in LaTeX",
      "code": {
        "rust": "use mathhook::parser::latex::parse_latex;\n\n// Indefinite integral\nlet expr = parse_latex(r\"\\int x^2 \\, dx\")?;\n\n// Definite integral\nlet expr = parse_latex(r\"\\int_0^{\\infty} e^{-x} \\, dx\")?;\n\n// Summations\nlet expr = parse_latex(r\"\\sum_{i=1}^{n} i^2\")?;\n\n// Limits\nlet expr = parse_latex(r\"\\lim_{x \\to 0} \\frac{\\sin(x)}{x}\")?;\n",
        "python": "from mathhook.parser import parse_latex\n\n# Indefinite integral\nexpr = parse_latex(r\"\\int x^2 \\, dx\")\n\n# Definite integral\nexpr = parse_latex(r\"\\int_0^{\\infty} e^{-x} \\, dx\")\n\n# Summations\nexpr = parse_latex(r\"\\sum_{i=1}^{n} i^2\")\n\n# Limits\nexpr = parse_latex(r\"\\lim_{x \\to 0} \\frac{\\sin(x)}{x}\")\n",
        "nodejs": "const { parseLatex } = require('mathhook');\n\n// Indefinite integral\nconst expr = parseLatex(String.raw`\\int x^2 \\, dx`);\n\n// Definite integral\nconst expr = parseLatex(String.raw`\\int_0^{\\infty} e^{-x} \\, dx`);\n\n// Summations\nconst expr = parseLatex(String.raw`\\sum_{i=1}^{n} i^2`);\n\n// Limits\nconst expr = parseLatex(String.raw`\\lim_{x \\to 0} \\frac{\\sin(x)}{x}`);\n"
      }
    }
  ],
  "article": {
    "content": "# LaTeX Notation\n\nParse and generate beautiful LaTeX notation for mathematical expressions.\n\n## Understanding LaTeX Parsing\n\n### What is LaTeX Notation?\n\nLaTeX is the standard mathematical typesetting language used in academic papers, textbooks, and presentations. MathHook provides:\n\n- **Full bidirectional support**: Parse LaTeX → Expression, Expression → LaTeX\n- **Automatic type inference**: `\\mathbf{A}` creates matrix symbols, `\\hat{p}` creates operator symbols\n- **Implicit multiplication**: Handles `2x`, `\\pi x`, `(a)(b)` correctly\n- **Comprehensive coverage**: 150+ LaTeX commands for functions, symbols, operators, calculus\n\n### How It Works (Architecture)\n\n**Two-Stage Processing:**\n\n1. **Lexer** (Token Generation):\n   - Inserts implicit multiplication tokens (`2x` → `2*x`)\n   - Classifies tokens (number, identifier, function, operator)\n   - O(1) HashMap lookups for LaTeX commands (`\\sin`, `\\pi`, `\\alpha`)\n\n2. **Parser** (LALRPOP Grammar):\n   - LR(1) parser with operator precedence\n   - Right-associative exponentiation: `2^3^4` → `2^(3^4)`\n   - Context-aware function resolution (indexed functions, calculus operators)\n\n**Performance:**\n- >100K simple expressions/second\n- Thread-local caching for common expressions\n- Zero-copy string processing where possible\n\n## Complete LaTeX Command Reference\n\n**Trigonometric Functions:**\n```\n\\sin, \\cos, \\tan, \\sec, \\csc, \\cot\n\\sinh, \\cosh, \\tanh, \\sech, \\csch, \\coth\n\\arcsin, \\arccos, \\arctan, \\arcsec, \\arccsc, \\arccot\n```\n\n**Logarithmic Functions:**\n```\n\\ln, \\log, \\log_10, \\log_2\n```\n\n**Calculus Operators:**\n```\n\\int, \\iint, \\iiint, \\oint          # Integrals\n\\sum, \\prod                          # Summation, product\n\\lim                                 # Limits\n\\partial                             # Partial derivatives\n\\nabla                               # Nabla operator\n```\n\n**Greek Letters (Lowercase):**\n```\n\\alpha, \\beta, \\gamma, \\delta, \\epsilon, \\zeta, \\eta, \\theta\n\\iota, \\kappa, \\lambda, \\mu, \\nu, \\xi, \\omicron, \\pi, \\rho\n\\sigma, \\tau, \\upsilon, \\phi, \\chi, \\psi, \\omega\n```\n\n**Greek Letters (Uppercase, often functions):**\n```\n\\Gamma        # Gamma function\n\\Delta        # Dirac delta\n\\Psi          # Digamma function\n\\Zeta         # Riemann zeta function\n```\n\n**Mathematical Constants:**\n```\n\\pi           # π ≈ 3.14159...\n\\phi, \\varphi # Golden ratio φ ≈ 1.618...\n\\infty        # ∞\n\\EulerGamma   # Euler-Mascheroni constant γ ≈ 0.5772...\n```\n\n**Operators:**\n```\n\\cdot         # Multiplication (·)\n\\times        # Cross product (×)\n\\div          # Division (÷)\n\\pm, \\mp      # Plus-minus (±), minus-plus (∓)\n\\leq, \\geq    # ≤, ≥\n\\neq          # ≠\n\\equiv        # ≡ (equivalence)\n\\approx       # ≈ (approximately)\n\\sim          # ~ (similar to)\n\\propto       # ∝ (proportional to)\n```\n\n**Formatting:**\n```\n\\mathbf{A}                 # Bold (inferred as matrix symbol)\n\\hat{p}                    # Hat (inferred as operator symbol)\n\\vec{v}                    # Vector arrow\n\\overline{z}               # Overline (often conjugate)\n\\tilde{x}                  # Tilde\n\\bar{x}                    # Bar\n\\text{if}                  # Text mode\n\\mathcal{F}                # Calligraphic (fancy fonts)\n\\mathbb{R}                 # Blackboard bold (ℝ, ℤ, ℚ)\n```\n"
  },
  "use_cases": [
    "Academic papers and presentations",
    "Teaching materials with step-by-step solutions",
    "Jupyter notebook integration",
    "Web applications with MathJax/KaTeX"
  ],
  "related_topics": [
    "parser.formatting",
    "parser.wolfram",
    "parser.custom",
    "parser.noncommutative_design",
    "core.expressions"
  ],
  "performance": {
    "complexity": "O(n) where n = expression tree size",
    "typical_time": ">100K simple expressions/second"
  },
  "metadata": {
    "schema_version": "1.0"
  }
}