{
  "topic": "educational.messages",
  "title": "Educational Message Registry",
  "description": "The message registry system provides organized, mappable, hashable educational content separated from code logic. Instead of hardcoding explanatory text throughout the codebase, MathHook maintains a centralized registry of educational messages that can be customized, internationalized, and adapted for different audiences.\n",
  "code_refs": {
    "rust": "mathhook::educational::message_registry",
    "python": "mathhook.educational.message_registry",
    "nodejs": "mathhook.educational.messageRegistry"
  },
  "examples": [
    {
      "title": "Basic Message Usage",
      "explanation": "Create and use educational messages with template substitution",
      "code": {
        "rust": "let intro = MessageBuilder::new(\n    MessageCategory::LinearEquation,\n    MessageType::Introduction,\n    0  // variant\n)\n.with_substitution(\"equation\", \"2x + 3 = 7\")\n.with_substitution(\"variable\", \"x\")\n.build()\n.unwrap();\n\nprintln!(\"{}\", intro.description);\n// Output: \"We have a linear equation in the form ax + b = c. To solve for x, we'll isolate the variable.\"\n",
        "python": "intro = MessageBuilder(\n    MessageCategory.LINEAR_EQUATION,\n    MessageType.INTRODUCTION,\n    0  # variant\n) \\\n.with_substitution(\"equation\", \"2x + 3 = 7\") \\\n.with_substitution(\"variable\", \"x\") \\\n.build()\n\nprint(intro.description)\n# Output: \"We have a linear equation in the form ax + b = c. To solve for x, we'll isolate the variable.\"\n",
        "nodejs": "const intro = new MessageBuilder(\n  MessageCategory.LINEAR_EQUATION,\n  MessageType.INTRODUCTION,\n  0  // variant\n)\n.withSubstitution('equation', '2x + 3 = 7')\n.withSubstitution('variable', 'x')\n.build();\n\nconsole.log(intro.description);\n// Output: \"We have a linear equation in the form ax + b = c. To solve for x, we'll isolate the variable.\"\n"
      }
    },
    {
      "title": "Calculus Message with Power Rule",
      "explanation": "Generate educational message for derivative explanation",
      "code": {
        "rust": "let derivative_msg = MessageBuilder::new(\n    MessageCategory::Calculus,\n    MessageType::DerivativePowerRule,\n    0\n)\n.with_substitution(\"expression\", \"x^3\")\n.with_substitution(\"exponent\", \"3\")\n.with_substitution(\"result\", \"3x^2\")\n.build()\n.unwrap();\n\nprintln!(\"{}\", derivative_msg.description);\n// Output: \"Apply the power rule: d/dx(x^3) = 3¬∑x^(3-1) = 3x^2\"\n",
        "python": "derivative_msg = MessageBuilder(\n    MessageCategory.CALCULUS,\n    MessageType.DERIVATIVE_POWER_RULE,\n    0\n) \\\n.with_substitution(\"expression\", \"x^3\") \\\n.with_substitution(\"exponent\", \"3\") \\\n.with_substitution(\"result\", \"3x^2\") \\\n.build()\n\nprint(derivative_msg.description)\n# Output: \"Apply the power rule: d/dx(x^3) = 3¬∑x^(3-1) = 3x^2\"\n",
        "nodejs": "const derivativeMsg = new MessageBuilder(\n  MessageCategory.CALCULUS,\n  MessageType.DERIVATIVE_POWER_RULE,\n  0\n)\n.withSubstitution('expression', 'x^3')\n.withSubstitution('exponent', '3')\n.withSubstitution('result', '3x^2')\n.build();\n\nconsole.log(derivativeMsg.description);\n// Output: \"Apply the power rule: d/dx(x^3) = 3¬∑x^(3-1) = 3x^2\"\n"
      }
    },
    {
      "title": "Multiple Variants for Different Audiences",
      "explanation": "Use different message variants for beginner, intermediate, and advanced students",
      "code": {
        "rust": "// Variant 0: Formal mathematical language\nlet formal = MessageBuilder::new(\n    MessageCategory::LinearEquation,\n    MessageType::Strategy,\n    0  // variant 0\n)\n.build()\n.unwrap();\n\n// Variant 1: Conversational tone\nlet casual = MessageBuilder::new(\n    MessageCategory::LinearEquation,\n    MessageType::Strategy,\n    1  // variant 1\n)\n.build()\n.unwrap();\n\n// Variant 2: Step-by-step procedural\nlet procedural = MessageBuilder::new(\n    MessageCategory::LinearEquation,\n    MessageType::Strategy,\n    2  // variant 2\n)\n.build()\n.unwrap();\n",
        "python": "# Variant 0: Formal mathematical language\nformal = MessageBuilder(\n    MessageCategory.LINEAR_EQUATION,\n    MessageType.STRATEGY,\n    0  # variant 0\n).build()\n\n# Variant 1: Conversational tone\ncasual = MessageBuilder(\n    MessageCategory.LINEAR_EQUATION,\n    MessageType.STRATEGY,\n    1  # variant 1\n).build()\n\n# Variant 2: Step-by-step procedural\nprocedural = MessageBuilder(\n    MessageCategory.LINEAR_EQUATION,\n    MessageType.STRATEGY,\n    2  # variant 2\n).build()\n",
        "nodejs": "// Variant 0: Formal mathematical language\nconst formal = new MessageBuilder(\n  MessageCategory.LINEAR_EQUATION,\n  MessageType.STRATEGY,\n  0  // variant 0\n).build();\n\n// Variant 1: Conversational tone\nconst casual = new MessageBuilder(\n  MessageCategory.LINEAR_EQUATION,\n  MessageType.STRATEGY,\n  1  // variant 1\n).build();\n\n// Variant 2: Step-by-step procedural\nconst procedural = new MessageBuilder(\n  MessageCategory.LINEAR_EQUATION,\n  MessageType.STRATEGY,\n  2  // variant 2\n).build();\n"
      }
    },
    {
      "title": "Generating Educational Step Sequences",
      "explanation": "Generate complete explanation sequences using message registry",
      "code": {
        "rust": "// Generate complete explanation sequence\nlet steps = EducationalMessageGenerator::linear_equation_steps(\n    \"2x + 3 = 7\",  // equation\n    \"x\",           // variable\n    \"2\"            // solution\n);\n\nfor step in &steps {\n    println!(\"{}\", step.description);\n}\n",
        "python": "# Generate complete explanation sequence\nsteps = EducationalMessageGenerator.linear_equation_steps(\n    \"2x + 3 = 7\",  # equation\n    \"x\",           # variable\n    \"2\"            # solution\n)\n\nfor step in steps:\n    print(step.description)\n",
        "nodejs": "// Generate complete explanation sequence\nconst steps = EducationalMessageGenerator.linearEquationSteps(\n  '2x + 3 = 7',  // equation\n  'x',           // variable\n  '2'            // solution\n);\n\nsteps.forEach(step => {\n  console.log(step.description);\n});\n"
      }
    }
  ],
  "article": {
    "content": "# Educational Message Registry\n\n> üìç **Navigation:** [Step-by-Step](./step-by-step.md) | [Educational API](./api.md) | [Previous: Getting Started](../getting-started/learning-paths.md)\n\nThe message registry system provides organized, mappable, hashable educational content separated from code logic. Instead of hardcoding explanatory text throughout the codebase, MathHook maintains a centralized registry of educational messages that can be customized, internationalized, and adapted for different audiences.\n\n## What is the Message Registry?\n\n**Problem:** Hardcoding educational text in code makes it difficult to:\n- Customize explanations for different student levels\n- Translate content to other languages\n- Maintain consistent educational messaging\n- A/B test different explanations\n- Update content without code changes\n\n**Solution:** The message registry provides a centralized, indexed system where:\n- Messages are stored separately from code logic\n- Each message has a unique hash for fast lookup\n- Templates support dynamic substitution\n- Content can be customized per audience without touching code\n\n**Learning Journey:** After understanding [step-by-step explanations](./step-by-step.md), learn how to customize the language. Then explore [programmatic API integration](./api.md).\n\n## Architecture\n\n### Core Components\n\n```rust\nuse mathhook::educational::message_registry::{\n    MessageCategory,\n    MessageType,\n    MessageKey,\n    MessageHashSystem,\n    MessageBuilder,\n};\n```\n\n### Message Key Structure\n\nEvery message is uniquely identified by a composite key:\n\n```rust\npub struct MessageKey {\n    pub category: String,        // Domain: \"linear_equation\", \"calculus\", etc.\n    pub message_type: String,    // Type: \"introduction\", \"strategy\", \"result\"\n    pub variant: u32,            // Alternative phrasing (0, 1, 2, ...)\n    pub hash: u64,               // Fast lookup hash\n    pub template_params: Vec<String>,  // Required substitutions\n}\n```\n\n**Hash System for Performance:**\n\nMessages are hashed for O(1) lookup:\n\n$$\n\\text{hash} = \\text{fnv1a}(\\text{category} \\oplus \\text{type} \\oplus \\text{variant})\n$$\n\nThis allows instant message retrieval without string comparison.\n\n## Message Categories\n\n### Algebra Messages\n\nMessages for algebraic operations including linear equations, quadratic equations, polynomial equations, and general algebraic simplification.\n\n### Calculus Messages\n\nMessages for calculus operations including derivatives (power rule, chain rule), integration (by parts, substitution), and limits.\n\n### Solver Messages\n\nMessages for equation solving including system equations (substitution, elimination), matrix methods, and solution verification.\n\n### ODE Messages\n\nMessages for ordinary differential equations including separable equations, linear first-order equations, and exact equations.\n\n**Separable ODE Form:**\n\n$$\n\\frac{dy}{dx} = g(x) \\cdot h(y) \\implies \\frac{dy}{h(y)} = g(x) \\, dx\n$$\n\n### PDE Messages\n\nMessages for partial differential equations including heat equation, wave equation, and Laplace equation.\n\n**Heat Equation:**\n\n$$\n\\frac{\\partial u}{\\partial t} = \\alpha \\frac{\\partial^2 u}{\\partial x^2}\n$$\n\n### Noncommutative Algebra Messages\n\nMessages for matrix and operator algebra where order matters. Critical property: For matrices, $AB \\neq BA$ in general, so left and right division are different.\n"
  },
  "use_cases": [
    "Customizing explanations for different student levels",
    "Translating educational content to other languages",
    "A/B testing different explanation strategies",
    "Maintaining consistent educational messaging",
    "Adapting content for teachers vs students",
    "Engineer vs mathematician audience customization"
  ],
  "related_topics": [
    "educational.step_by_step",
    "educational.api",
    "architecture.design_principles",
    "contributing.documentation"
  ],
  "performance": {
    "complexity": "O(1)",
    "typical_time": "100-200ns (cached), 1-2Œºs (uncached)"
  },
  "outputs": {
    "jupyter": {
      "include_interactive_plots": false,
      "include_performance_section": true
    },
    "mdbook": {
      "include_mathematical_proof": false,
      "include_implementation_details": false,
      "runnable_code": true
    },
    "vue_site": {
      "include_live_demo": true,
      "seo_keywords": [
        "message registry",
        "educational content",
        "customization"
      ]
    },
    "api_docs": {
      "include_playground": true,
      "show_all_languages": true
    },
    "llm_rag": {
      "chunk_strategy": "by_category",
      "max_chunk_size": 512,
      "embedding_priority": "medium"
    }
  },
  "metadata": {
    "schema_version": "1.0"
  }
}