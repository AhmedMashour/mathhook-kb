{
  "topic": "operations.expansion-factoring",
  "title": "Expansion and Factoring",
  "description": "Transform expressions between expanded and factored forms for easier manipulation and analysis.\n",
  "mathematical_definition": "**Distributive Law:**\n$$a(b + c) = ab + ac$$\n\n**Binomial Expansion:**\n$$(x + y)^n = \\sum_{k=0}^{n} \\binom{n}{k} x^{n-k} y^k$$\n\nFor small powers:\n- $$(x + y)^2 = x^2 + 2xy + y^2$$\n- $$(x + y)^3 = x^3 + 3x^2y + 3xy^2 + y^3$$\n- $$(x - y)^2 = x^2 - 2xy + y^2$$\n\n**Special Products:**\n- **Difference of Squares:** $(x + y)(x - y) = x^2 - y^2$\n- **Perfect Square Trinomial:** $(x + y)^2 = x^2 + 2xy + y^2$\n\n**Noncommutative Expansion:**\nFor matrices (noncommutative):\n$$(A + B)^2 = A^2 + AB + BA + B^2 \\quad \\text{(4 terms, cannot combine } AB \\text{ and } BA\\text{)}$$\n",
  "code_refs": {
    "rust": "mathhook_core::expand::Expand",
    "python": "mathhook.expand",
    "nodejs": "mathhook.expand"
  },
  "examples": [
    {
      "title": "Simple Products",
      "explanation": "Expand products of sums",
      "code": {
        "rust": "use mathhook::prelude::*;\n\nlet x = symbol!(x);\n\n// Expand 2(x + 3)\nlet expr1 = expr!(2 * (x + 3));\nlet expanded1 = expr1.expand();\n// Result: 2x + 6\n\n// Expand (x + 1)(x + 2)\nlet expr2 = expr!((x + 1) * (x + 2));\nlet expanded2 = expr2.expand();\n// Result: x² + 3x + 2\n\n// Expand (x + y)(x - y) - difference of squares\nlet y = symbol!(y);\nlet expr3 = expr!((x + y) * (x - y));\nlet expanded3 = expr3.expand();\n// Result: x² - y²\n",
        "python": "from mathhook import symbol\n\nx = symbol('x')\n\n# Expand 2(x + 3)\nexpr1 = 2 * (x + 3)\nexpanded1 = expr1.expand()\n# Result: 2*x + 6\n\n# Expand (x + 1)(x + 2)\nexpr2 = (x + 1) * (x + 2)\nexpanded2 = expr2.expand()\n# Result: x**2 + 3*x + 2\n",
        "nodejs": "const { symbol } = require('mathhook');\n\nconst x = symbol('x');\n\n// Expand 2(x + 3)\nconst expr1 = x.add(3).mul(2);\nconst expanded1 = expr1.expand();\n// Result: 2*x + 6\n"
      }
    },
    {
      "title": "Power Expansion",
      "explanation": "Expand expressions raised to integer powers",
      "code": {
        "rust": "use mathhook::prelude::*;\n\nlet x = symbol!(x);\nlet y = symbol!(y);\n\n// Expand (x + 1)^2\nlet expr1 = expr!((x + 1) ^ 2);\nlet expanded1 = expr1.expand();\n// Result: x² + 2x + 1\n\n// Expand (x + y)^3\nlet expr2 = expr!((x + y) ^ 3);\nlet expanded2 = expr2.expand();\n// Result: x³ + 3x²y + 3xy² + y³\n\n// Expand (x - 2)^4\nlet expr3 = expr!((x - 2) ^ 4);\nlet expanded3 = expr3.expand();\n// Result: x⁴ - 8x³ + 24x² - 32x + 16\n",
        "python": "from mathhook import symbol\n\nx = symbol('x')\ny = symbol('y')\n\n# Expand (x + 1)^2\nexpr1 = (x + 1)**2\nexpanded1 = expr1.expand()\n# Result: x**2 + 2*x + 1\n\n# Expand (x + y)^3\nexpr2 = (x + y)**3\nexpanded2 = expr2.expand()\n# Result: x**3 + 3*x**2*y + 3*x*y**2 + y**3\n",
        "nodejs": "const { symbol } = require('mathhook');\n\nconst x = symbol('x');\nconst y = symbol('y');\n\n// Expand (x + 1)^2\nconst expr1 = x.add(1).pow(2);\nconst expanded1 = expr1.expand();\n// Result: x^2 + 2*x + 1\n"
      }
    },
    {
      "title": "Noncommutative Matrix Expansion",
      "explanation": "For matrices, order matters - (A+B)² has 4 terms",
      "code": {
        "rust": "use mathhook::prelude::*;\n\n// Create matrix symbols\nlet A = symbol!(A; matrix);\nlet B = symbol!(B; matrix);\nlet C = symbol!(C; matrix);\n\n// Expand (A + B)^2 - preserves noncommutativity\nlet expr = expr!((A + B) ^ 2);\nlet expanded = expr.expand();\n// Result: A² + AB + BA + B²   (4 terms, NOT A² + 2AB + B²)\n\n// Expand (A + B)(C)\nlet expr2 = expr!((A + B) * C);\nlet expanded2 = expr2.expand();\n// Result: AC + BC   (order preserved: A*C first, then B*C)\n",
        "python": "from mathhook import symbol\n\n# Create matrix symbols\nA = symbol('A', matrix=True)\nB = symbol('B', matrix=True)\nC = symbol('C', matrix=True)\n\n# Expand (A + B)^2 - preserves noncommutativity\nexpr = (A + B)**2\nexpanded = expr.expand()\n# Result: A**2 + A*B + B*A + B**2   (4 terms, NOT A**2 + 2*A*B + B**2)\n",
        "nodejs": "const { symbol } = require('mathhook');\n\n// Create matrix symbols\nconst A = symbol('A', { type: 'matrix' });\nconst B = symbol('B', { type: 'matrix' });\n\n// Expand (A + B)^2 - preserves noncommutativity\nconst expr = A.add(B).pow(2);\nconst expanded = expr.expand();\n// Result: A^2 + AB + BA + B^2   (4 terms)\n"
      }
    }
  ],
  "use_cases": [
    "Simplifying derivatives: Expanded form often easier to differentiate",
    "Integrating: Polynomials easier to integrate than products",
    "Solving equations: Collect like terms to identify coefficients",
    "Physics: Expand transfer functions for frequency response"
  ],
  "related_topics": [
    "operations.simplification",
    "operations.differentiation",
    "operations.integration",
    "features.noncommutative"
  ],
  "performance": {
    "complexity": "O(2^n) terms for (a+b)^n noncommutative, O(n) for commutative"
  },
  "metadata": {
    "schema_version": "1.0"
  }
}